<p>Hay veces que necesitamos que un dato se incluya en una tabla de manera obligatoria, otras veces necesitaremos definir uno de los campos como clave primaria o ajena. Todo esto podremos hacerlo cuando definamos la tabla, adem&aacute;s de otras opciones.</p><p>Una <strong>restricci&oacute;n</strong> es una condici&oacute;n que una o varias columnas deben cumplir obligatoriamente.</p><p>Cada restricci&oacute;n que creemos llevar&aacute; un nombre, si no se lo ponemos nosotros lo har&aacute; el DBMS que estemos utilizando. Es conveniente que le pongamos un nombre que nos ayude a identificarla y que sea &uacute;nico para cada esquema (usuario). Es buena idea incluir de alg&uacute;n modo el nombre de la tabla, los campos involucrados y el tipo de restricci&oacute;n en el nombre de la misma.</p><h3>Sintaxis:</h3><p>La sintaxis en SQL est&aacute;ndar es la siguiente:</p><blockquote><pre><code>CREATE TABLE TABLE_NAME (<br /> Column1 Data_Type<br /> [CONSTRAINT constraint_name]<br /> [NOT NULL]<br /> [UNIQUE]<br /> [PRIMARY KEY]<br /> [FOREIGN KEY]<br /> [DEFAULT valor]<br /> [REFERENCES nombreTabla [(columna [, columna ])]<br /> [ON DELETE CASCADE]]<br /> [CHECK condici&oacute;n],<br /> Column2 Data_Type<br /> [CONSTRAINT constraint_name]<br /> [NOT NULL]...<br /> ,...<br />);</code></pre></blockquote><p>Veamos un ejemplo:</p><blockquote><pre><code>CREATE TABLE USERS (<br /> Login VARCHAR(15) CONSTRAINT usu_log_PK PRIMARY KEY,<br /> Password VARCHAR(8) NOT NULL,<br /> HIRE_DATE DATE DEFAULT CURRENT_DATE<br />);</code></pre></blockquote><h2>Restricci&oacute;n <a href="https://www.postgresql.org/docs/14/ddl-constraints.html#id-1.5.4.6.6" target="_blank"><code>NOT NULL</code></a>.</h2><p>Con esta restricci&oacute;n obligaremos a que esa columna tenga un valor o lo que es lo mismo, proh&iacute;be los valores nulos para una columna en una determinada tabla.</p><p>Podremos ponerlo cuando creamos o modificamos el campo a&ntilde;adiendo la palabra <code>NOT NULL</code> despu&eacute;s de poner el tipo de dato.</p><p>Si en la tabla <code>USERS</code> queremos que el campo <code>BIRTH_DATE</code> sea obligatorio ponerlo, nos quedar&iacute;a as&iacute;:</p><blockquote><pre><code>CREATE TABLE USERS (<br /> BIRTH_DATE DATE<br /> CONSTRAINT Use_BirDate_NN NOT NULL);</code></pre></blockquote><p>o bien, de esta otra forma:</p><blockquote><pre><code>CREATE TABLE USERS (<br /> BIRTH_DATE DATE NOT NULL);</code></pre></blockquote><p>Debemos tener cuidado con los valores nulos en las operaciones, ya que <code>1 * NULL</code> es igual a <code>NULL</code>.</p><p>Ejercicio:</p><p>Vamos a incluir restricciones a la tabla <code>STUDENTS</code> vista en el ejercicio anterior. Los atributos y sus tipos deben ser iguales a los planteados anteriormente:</p><ul><li><code>ID</code>: que contiene n&uacute;meros de hasta 8 d&iacute;gitos sin decimales.</li><li><code>NIF</code>: que contiene una combinaci&oacute;n de n&uacute;meros y letras de hasta 9 caracteres.</li><li><code>LAST_NAME</code>: anteriormente ya hemos limitado la longitud de este atributo a 50 caracteres.</li><li><code>FIRST_NAME</code>: anteriormente ya hemos limitado la longitud de este atributo a 25 caracteres.</li><li><code>BIRTH_DATE</code>: l&oacute;gicamente, almacena una fecha.</li><li><code>NATIONALITY</code>: almacenar&aacute; cadenas de caracteres con una longitud m&aacute;xima de 30.</li><li><code>EMAIL</code>: tambi&eacute;n almacenar&aacute; cadenas de hasta 100 caracteres.</li><li><code>PHONE</code>: almacenar&aacute; Ãºnicamente los d&iacute;gitos, sin espacios ni prefijo.</li></ul><p>Adem&aacute;s, debes obligar a que los atributos <code>LAST_NAME</code>, <code>FIRST_NAME</code> y <code>EMAIL</code> de cada fila de la tabla tenga alg&uacute;n valor, no estando permitido que el valor asociado a esos atributos sea <code>NULL</code>.</p>