<h2><code>FOREIGN KEY</code>.</h2><p>Si la definici&oacute;n de la clave ajena se pone al final, tendremos que colocar el texto <code>FOREIGN KEY</code> para especificar a qu&eacute; campo se est&aacute; refiriendo.</p><p>En el caso en el que la clave ajena estuviera formada por m&aacute;s de un atributo, ser&iacute;a obligatorio que la restricci&oacute;n se colocara tras la definici&oacute;n de los atributos. Veamos un ejemplo con <code>COD_MATCH</code> y <code>MATCH_DATE</code> de la tabla <code>MATCHES</code>:</p><blockquote><pre><code>CREATE TABLE MATCHES (<br />    COD_MATCH INTEGER,<br />    MATCH_DATE DATE,<br />        PRIMARY KEY (COD_MATCH, MATCH_DATE)<br />);</code></pre></blockquote><p></p><blockquote><pre><code>CREATE TABLE USERS (<br />    COD_MATCH INTEGER,<br />    FIRST_NAME VARCHAR(25),<br />    LAST_NAME VARCHAR(50),<br />    MATCH_DATE DATE,<br />        CONSTRAINT Match_Cod_Date_FK FOREIGN KEY (COD_MATCH, MATCH_DATE)<br />        REFERENCES MATCHES<br />);</code></pre></blockquote><p>Tenemos otras soluciones y es a&ntilde;adir tras la cl&aacute;usula <code>REFERENCES</code>:</p><ul><li><code>ON DELETE CASCADE</code>: te permitir&aacute; borrar todos los registros cuya clave ajena sea igual a la clave del registro borrado.</li><li><code>ON DELETE SET NULL</code>: colocar&aacute; el valor <code>NULL </code> en todas las claves ajenas relacionadas con la borrada.</li></ul><h3>Ejercicio:</h3><p>Supongamos que tenemos que almacenar datos de los <code>MODULES</code>, seg&uacute;n la siguiente definici&oacute;n:</p><blockquote><pre><code>CREATE TABLE MODULES (<br />    CODE INTEGER,<br />    NAME VARCHAR(100),<br />    DEGREE CHAR(3),<br />        PRIMARY KEY (CODE, DEGREE)<br />);</code></pre></blockquote><p>Como material de apoyo, para cada m&oacute;dulo se hace uso de un libro de texto, cuyos datos se almacenar&aacute;n en la siguiente tabla:</p><blockquote><pre><code>CREATE TABLE BOOKS (<br />    ISBN NUMERIC PRIMARY KEY,<br />    TITLE VARCHAR(100),<br />    MODULE INTEGER,<br />    DEGREE CHAR(3)<br />);</code></pre></blockquote><p>Crea las tablas y relaci&oacute;nalas a trav&eacute;s de una clave ajena.</p>