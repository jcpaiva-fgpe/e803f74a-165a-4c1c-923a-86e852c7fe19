<h2><code>FOREIGN KEY</code>.</h2><p>Se a definição da chave estrangeira for colocada no final, teremos que colocar o texto <code>FOREIGN KEY</code> para especificar a qual campo se refere.</p><p>No caso em que a chave estrangeira fosse composta por mais de um atributo, seria obrigatório que a restrição fosse colocada após a definição dos atributos. Vamos ver um exemplo com <code>COD_MATCH</code> e <code>MATCH_DATE</code> da tabela <code>MATCHES</code>:</p><blockquote><pre><code>CREATE TABLE MATCHES ( <br /> COD_MATCH INTEGER,<br /> MATCH_DATE DATE,<br /> PRIMARY KEY (COD_MATCH, MATCH_DATE)<br />);</code></pre></blockquote><p></p > <blockquote><pre><code>CREATE TABLE USERS (<br /> COD_MATCH INTEGER,<br /> FIRST_NAME VARCHAR(25),<br /> LAST_NAME VARCHAR(50),<br /> MATCH_DATE DATE,<br / > CONSTRAINT Match_Cod_Date_FK FOREIGN KEY (COD_MATCH, MATCH_DATE)<br /> REFERENCES MATCHES<br />);</code></pre></blockquote><p>Temos outras soluções e é para adicionar após o < code>cláusula REFERENCES </code>:</p><ul><li><code>ON DELETE CASCADE</code>: permitirá deletar todos os registros cuja chave estrangeira seja igual à chave do registro deletado .</li><li ><code>ON DELETE SET NULL</code>: colocará o valor <code>NULL </code> em todas as chaves estrangeiras relacionadas à exclusão.</li></ul>< h3>Exercício:</h3 ><p>Suponha Vemos que temos que armazenar os dados dos <code>MODULES</code>, conforme a seguinte definição:</p><blockquote><pre><code>CREATE TABLE MODULES (<br /> CODE INTEGER,< br /> NOME VARCHAR(100),<br /> GRAU CHAR(3),<br /> CHAVE PRIMÁRIA (CÓDIGO, GRAU)<br />);</code></pre></blockquote><p >Como suporte material, para cada módulo é utilizado um livro didático, cujos dados serão armazenados na seguinte tabela:</p><blockquote><pre><code>CREATE TABLE BOOKS (<br /> ISBN NUMERIC PRIMARY KEY, < br /> TITLE VARCHAR(100),<br /> MODULE INTEGER,<br /> DEGREE CHAR(3)<br />);</code></pre></blockquote><p>Cria as tabelas e relacione-os por meio de uma chave estrangeira.</p>